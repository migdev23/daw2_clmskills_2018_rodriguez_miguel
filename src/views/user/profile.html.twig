{% extends './common/layout.html.twig' %}

{% block content %}
<h1>Perfil</h1>

<div class="row">

    <div class='col-3'>
        <div class="mb-3">
            <img src="/imgProfile/{{ user.uid }}" class="img-fluid rounded-circle shadow-sm" width="200" height="200" alt="Imagen de {{ user.nombre }}">
        </div>

        <h5 class="text-primary">{{ user.nombre }}</h5>
        <p class="text-muted">{{ user.email }}</p>
    
        <a href="#" class="btn btn-outline-primary mt-3">Subir nueva imagen</a>
    </div>

   <div class='row col-9'>
    {% for imagen in imgs %}
        <div class='col-4 mb-3'>
            <div class="card shadow-sm">
                <!-- Imagen de portada -->
                <img src="/imgIid/{{ imagen.iid }}" width="100%" height="200" class="card-img-top" alt="Imagen de {{ imagen.titulo }}">
                
                <div class="card-body">
                    <!-- Título -->
                    <h5 class="card-title">{{ imagen.titulo }}</h5>
                    
                    <!-- Autor -->
                    <p class="card-text text-muted">Autor: 
                    {% for usuario in imagen.usuarios %}
                            {{ usuario.nombre }}
                    {% endfor %}
                    </p>
                    
                    <!-- Descripción -->
                    <p class="card-text">{{ description }}</p>
                    
                    <!-- Categorías -->
                    <p class="card-text">
                        <small class="text-muted">Categorías: 
                        {% for categoria in imagen.categorias %}
                            {{ categoria.nombre }}
                        {% endfor %}
                        </small>
                    </p>
                </div>
            </div>
        </div>
    {% endfor %}
   </div>
</div>
<script src="/dist/index.js"></script>
{% endblock %}

